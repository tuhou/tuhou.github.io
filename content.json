{"meta":{"title":"码字的秃猴","subtitle":"别向世界妥协！","description":"Don't compromise with the world!","author":"tuhou","url":"http://tuhou.github.io","root":"/"},"pages":[{"title":"分类","date":"2024-11-25T14:43:45.000Z","updated":"2024-11-25T15:30:56.355Z","comments":false,"path":"categories/index.html","permalink":"http://tuhou.github.io/categories/index.html","excerpt":"","text":""},{"title":"标签","date":"2024-11-25T14:46:52.000Z","updated":"2024-11-25T15:30:05.299Z","comments":false,"path":"tags/index.html","permalink":"http://tuhou.github.io/tags/index.html","excerpt":"","text":""},{"title":"关于","date":"2024-11-25T15:26:39.000Z","updated":"2024-11-25T15:28:33.451Z","comments":false,"path":"about/index.html","permalink":"http://tuhou.github.io/about/index.html","excerpt":"","text":""}],"posts":[{"title":"hexo搭建","slug":"hexo01","date":"2024-11-26T15:10:20.000Z","updated":"2024-11-27T02:30:12.733Z","comments":true,"path":"2024/11/26/hexo01/","permalink":"http://tuhou.github.io/2024/11/26/hexo01/","excerpt":"网址：tuhou.github.io 从搭建hexo到发布到github，以及简单的优化 简单介绍hexo：Hexo 是一个快速、简洁且高效的博客框架。 Hexo 使用 Markdown（或其他标记语言）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。","text":"网址：tuhou.github.io 从搭建hexo到发布到github，以及简单的优化 简单介绍hexo：Hexo 是一个快速、简洁且高效的博客框架。 Hexo 使用 Markdown（或其他标记语言）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 依赖：本文以ubuntu为例，需要安装node和git 1、node安装：下载地址：https://nodejs.cn/download/ 下载对应的版本双击安装 安装完成后：创建对应的软链接 ln -s /home/node/（你的安装目录） /usr/local/bin ln -s /home/npm/（你的安装目录） /usr/local/bin 2、安装git12sudo apt-get updatesudo apt-get install git 此时需注意：使用npm的时候可能会报错，此处需要设置npm的源，因为淘宝源已经过期，那么当前将其设置为新的。 npm config set registry https://registry.npmmirror.com/ 3、安装hexonpm install -g hexo-cli 此文章以我的目录为例，创建 12mkdir /home/blogcd /home/blog hexo初始化 123hexo inithexo ghexo s --debug 此时，你可以看到本地http://localhost:4000就能看到对应的网站了 当然安装hexo并不是我们的最终目的，我们要将hexo上传到github，并生成一个github的网站 4、github端设置1、github端创建一个公共的仓库，注意名称命名为 xxx.github.io必须的（xxx设置为你自己想设置的），确认就好 2、在服务器上，配置本地用户信息 使用 git config --global user.name &quot;name&quot; 配置本地用户信息，name为你的git账户名 使用 git config --global user.email &quot;xxx@xx.com&quot;配置本地邮箱，email为你git账户邮箱 使用 ssh-keygen -t rsa -C&quot;xxx@xx.com&quot; 命令生成本地私钥和密钥信息，需要输入yes是输入y 秘钥生成后，在本地~/.ssh，在此路径上找到git的密码文件 id_rsa.pub 3、进行git与github的授权认证 在github设置页面，选择左侧ssh and GPG keys 名称随意，key为id_rsa.pub添加 此时回到服务器，命令行输入ssh -T git@github.com检查可以与远程进行统信，会出现Hi …说明授权成功 4、以为目前github已经不支持密码授权，所以下载需要搞一个token： settings -&gt; Developer settings 创建后记得记住，因为只展示一次 5、在hexo的主配置文件_config.yml中配置 1234deploy: type: git repository: https://github.com/tuhou/tuhou.github.io.git branch: master 5、文章上线到github会让你输入名称和token，可以看到已经有了 1hexo d 后续的美化暂时停下，等后续再聊","categories":[{"name":"hexo","slug":"hexo","permalink":"http://tuhou.github.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://tuhou.github.io/tags/hexo/"}]},{"title":"港股打新网","slug":"spider-01","date":"2021-10-20T15:10:20.000Z","updated":"2024-11-25T07:18:18.479Z","comments":true,"path":"2021/10/20/spider-01/","permalink":"http://tuhou.github.io/2021/10/20/spider-01/","excerpt":"网址：aHR0cHM6Ly93d3cubGlhbmdodWFpcG8uY29tLyMvbGlzdGVkX3N0b2NrX2xpc3Q&#x3D; 1、网站进行简要分析 打开开发者工具，抓包","text":"网址：aHR0cHM6Ly93d3cubGlhbmdodWFpcG8uY29tLyMvbGlzdGVkX3N0b2NrX2xpc3Q&#x3D; 1、网站进行简要分析 打开开发者工具，抓包 请求成功后，返回一长段的数据data，需要的数据应该就是对data进行解密了，现在开始找解密点 2、寻找解密点 网页打上XHR断点，点击翻页 网页被断住，向上找堆栈，到pagechange发现有个JSON.parse这不就是解密点？打个断点，放开xhr断点，在进行一次翻页 判断加密点没错 1var s = JSON.parse(Object(o.a)(a.data)); 主要函数为Object(o.a)，断点进入 这不就是一个AES解密函数吗，废话不多说，码代码吧 123456789101112131415const CryptoJS = require(&#x27;crypto-js&#x27;);function get_data(t)&#123; var c = CryptoJS.enc.Utf8.parse(&quot;eFgabcda1bcda12bc2bcdePgefgadefg&quot;); var n = CryptoJS.enc.Utf8.parse(); var e = c, s = n, i = CryptoJS.enc.Base64.parse(t), a = CryptoJS.enc.Base64.stringify(i); return CryptoJS.AES.decrypt(a, e, &#123; iv: s, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;).toString(CryptoJS.enc.Utf8).toString() &#125; 结果： 全部代码： 12345678910111213141516171819202122232425262728293031323334353637import requestsimport execjsdef get_data(): url = &#x27;https://api.lianghuaipo.com/hk_ipo/get_paged_listed_stock_list&#x27; headers = &#123; &#x27;user-agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36&#x27;, &#125; data = &#123; &#x27;now_page&#x27;: 1, &#x27;page_cnt&#x27;: 30 &#125; res = requests.post(url=url,headers=headers,data=data).json() return res[&#x27;data&#x27;]js = &#x27;&#x27;&#x27;const CryptoJS = require(&#x27;crypto-js&#x27;);function get_data(t)&#123; var c = CryptoJS.enc.Utf8.parse(&quot;eFgabcda1bcda12bc2bcdePgefgadefg&quot;); var n = CryptoJS.enc.Utf8.parse(); var e = c; var s = n; var i = CryptoJS.enc.Base64.parse(t); var a = CryptoJS.enc.Base64.stringify(i); return CryptoJS.AES.decrypt(a, e, &#123; iv: s, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;).toString(CryptoJS.enc.Utf8).toString()&#125;&#x27;&#x27;&#x27;if __name__ == &#x27;__main__&#x27;: data = get_data() response = execjs.compile(js).call(&#x27;get_data&#x27;,data) print(response)","categories":[{"name":"逆向","slug":"逆向","permalink":"http://tuhou.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"爬虫","slug":"爬虫","permalink":"http://tuhou.github.io/tags/%E7%88%AC%E8%99%AB/"}]}],"categories":[{"name":"hexo","slug":"hexo","permalink":"http://tuhou.github.io/categories/hexo/"},{"name":"逆向","slug":"逆向","permalink":"http://tuhou.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://tuhou.github.io/tags/hexo/"},{"name":"爬虫","slug":"爬虫","permalink":"http://tuhou.github.io/tags/%E7%88%AC%E8%99%AB/"}]}