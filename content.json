{"meta":{"title":"码字的秃猴","subtitle":"别向世界妥协！","description":"Don't compromise with the world!","author":"tuhou","url":"http://tuhou.github.io","root":"/"},"pages":[],"posts":[{"title":"Hello World","slug":"hello-world","date":"2024-11-23T12:52:01.525Z","updated":"2024-11-25T07:08:36.794Z","comments":true,"path":"2024/11/23/hello-world/","permalink":"http://tuhou.github.io/2024/11/23/hello-world/","excerpt":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]},{"title":"港股打新网","slug":"spider-01","date":"2021-10-20T15:10:20.000Z","updated":"2024-11-25T07:18:18.479Z","comments":true,"path":"2021/10/20/spider-01/","permalink":"http://tuhou.github.io/2021/10/20/spider-01/","excerpt":"网址：aHR0cHM6Ly93d3cubGlhbmdodWFpcG8uY29tLyMvbGlzdGVkX3N0b2NrX2xpc3Q&#x3D; 1、网站进行简要分析 打开开发者工具，抓包","text":"网址：aHR0cHM6Ly93d3cubGlhbmdodWFpcG8uY29tLyMvbGlzdGVkX3N0b2NrX2xpc3Q&#x3D; 1、网站进行简要分析 打开开发者工具，抓包 请求成功后，返回一长段的数据data，需要的数据应该就是对data进行解密了，现在开始找解密点 2、寻找解密点 网页打上XHR断点，点击翻页 网页被断住，向上找堆栈，到pagechange发现有个JSON.parse这不就是解密点？打个断点，放开xhr断点，在进行一次翻页 判断加密点没错 1var s = JSON.parse(Object(o.a)(a.data)); 主要函数为Object(o.a)，断点进入 这不就是一个AES解密函数吗，废话不多说，码代码吧 123456789101112131415const CryptoJS = require(&#x27;crypto-js&#x27;);function get_data(t)&#123; var c = CryptoJS.enc.Utf8.parse(&quot;eFgabcda1bcda12bc2bcdePgefgadefg&quot;); var n = CryptoJS.enc.Utf8.parse(); var e = c, s = n, i = CryptoJS.enc.Base64.parse(t), a = CryptoJS.enc.Base64.stringify(i); return CryptoJS.AES.decrypt(a, e, &#123; iv: s, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;).toString(CryptoJS.enc.Utf8).toString() &#125; 结果： 全部代码： 12345678910111213141516171819202122232425262728293031323334353637import requestsimport execjsdef get_data(): url = &#x27;https://api.lianghuaipo.com/hk_ipo/get_paged_listed_stock_list&#x27; headers = &#123; &#x27;user-agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36&#x27;, &#125; data = &#123; &#x27;now_page&#x27;: 1, &#x27;page_cnt&#x27;: 30 &#125; res = requests.post(url=url,headers=headers,data=data).json() return res[&#x27;data&#x27;]js = &#x27;&#x27;&#x27;const CryptoJS = require(&#x27;crypto-js&#x27;);function get_data(t)&#123; var c = CryptoJS.enc.Utf8.parse(&quot;eFgabcda1bcda12bc2bcdePgefgadefg&quot;); var n = CryptoJS.enc.Utf8.parse(); var e = c; var s = n; var i = CryptoJS.enc.Base64.parse(t); var a = CryptoJS.enc.Base64.stringify(i); return CryptoJS.AES.decrypt(a, e, &#123; iv: s, mode: CryptoJS.mode.ECB, padding: CryptoJS.pad.Pkcs7 &#125;).toString(CryptoJS.enc.Utf8).toString()&#125;&#x27;&#x27;&#x27;if __name__ == &#x27;__main__&#x27;: data = get_data() response = execjs.compile(js).call(&#x27;get_data&#x27;,data) print(response)","categories":[{"name":"逆向","slug":"逆向","permalink":"http://tuhou.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"爬虫","slug":"爬虫","permalink":"http://tuhou.github.io/tags/%E7%88%AC%E8%99%AB/"}]}],"categories":[{"name":"逆向","slug":"逆向","permalink":"http://tuhou.github.io/categories/%E9%80%86%E5%90%91/"}],"tags":[{"name":"爬虫","slug":"爬虫","permalink":"http://tuhou.github.io/tags/%E7%88%AC%E8%99%AB/"}]}